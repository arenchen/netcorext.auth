{
  "Id": "Netcorext.Auth.API",
  "ConfigVersion": "1.0.0",
  "Connections": {
    "RelationalDb": {
      "Default": {
        "Connection": "Host=external-postgresql;Port=5432;Username=postgres;Password=P@ssw0rd;Database=netcorext_auth;requestId=true",
        "PoolSize": 1024
      },
      "Slave": {
        "Connection": "Host=external-postgresql;Port=5432;Username=postgres;Password=P@ssw0rd;Database=netcorext_auth;slave=true;requestId=true",
        "PoolSize": 1024
      }
    },
    "Redis": {
      "Default": {
        "Connection": "external-redis:6379",
        "Instance": ""
      }
    }
  },
  "Queues": {
    "BlockedIpChangeEvent": "auth:channel:blocked-ip-change",
    "ClientChangeEvent": "auth:channel:client-change",
    "ClientRoleChangeEvent": "auth:channel:client-role-change",
    "PermissionChangeEvent": "auth:channel:permission-change",
    "RoleChangeEvent": "auth:channel:role-change",
    "TokenRevokeEvent": "auth:channel:token-revoke",
    "UserChangeEvent": "auth:channel:user-change",
    "UserRoleChangeEvent": "auth:channel:user-role-change"
  },
  "Services": {
    "Netcorext.Auth.Authentication": {
      "Url": "http://netcorext-auth-authentication"
    },
    "Netcorext.Auth.Gateway": {
      "Url": "http://netcorext-auth-gateway"
    }
  },
  "Route": {
    "RoutePrefix": "/api/auth-api",
    "VersionRoute": "/v{version:apiVersion}",
    "HealthRoute": "/Health"
  },
  "Document": {
    "Url": "/docs",
    "TokenUrl": "/api/auth-api/v1/token"
  },
  "HttpLoggingOptions": {
    "LoggingFields": "All",
    "RequestHeaders": [
      ":method",
      "Authorization",
      "Cookie",
      "Grpc-Accept-Encoding",
      "Origin",
      "Pragma",
      "Referer",
      "Via",
      "sec-ch-ua",
      "sec-ch-ua-mobile",
      "sec-ch-ua-platform",
      "sec-fetch-dest",
      "sec-fetch-mode",
      "sec-fetch-site",
      "traceparent",
      "x-client-city",
      "x-client-citylatlong",
      "x-client-ip",
      "x-client-port",
      "x-client-protocol",
      "x-client-region",
      "x-cloud-trace-context",
      "x-device-id",
      "x-device-type",
      "x-forwarded-for",
      "x-forwarded-host",
      "x-forwarded-port",
      "x-forwarded-proto",
      "x-forwarded-server",
      "x-real-ip",
      "x-request-id"
    ],
    "ResponseHeaders": [
      "api-supported-versions",
      "Cache-Control",
      "X-Request-Id"
    ],
    "RequestBodyLogLimit": 102400,
    "ResponseBodyLogLimit": 102400
  },
  "AppSettings": {
    "RegisterConfig": {
      "HttpBaseUrl": "http://netcorext-auth-api",
      "Http2BaseUrl": "http://netcorext-auth-api",
      "ForwarderRequestVersion": "2.0",
      "ForwarderHttpVersionPolicy": "RequestVersionOrHigher",
      "ForwarderActivityTimeout": null,
      "ForwarderAllowResponseBuffering": null
    },
    "SlowCommandLoggingThreshold": 100,
    "RequestIdHeaderName": "X-Request-Id",
    "RequestIdFromHeaderNames": [
      "X-Request-Id"
    ]
  },
  "Kestrel": {
    "EndpointDefaults": {
      "Protocols": "Http2"
    }
  },
  "AllowedHosts": "*",
  "Serilog": {
    "Using": [
      "Serilog.Sinks.Console"
    ],
    "MinimumLevel": {
      "Default": "Information"
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "formatter": {
            "type": "Serilog.Formatting.Json.JsonFormatter, Serilog",
            "renderMessage": true
          }
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithMachineName",
      "WithThreadId"
    ]
  }
}
